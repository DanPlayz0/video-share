# ==============================
# App environment
# ==============================
# development | production
APP_ENV=development

# Flask/Gunicorn port inside container/app
PORT=5000

# ==============================
# Security / authentication
# ==============================
# Use a long random value in production
SECRET_KEY=replace-with-a-strong-random-secret

# Admin login
ADMIN_USERNAME=admin

# Choose ONE of the following:
# 1) Plain password (will be hashed at startup)
ADMIN_PASSWORD=change_this_password

# 2) Pre-hashed password (takes precedence over ADMIN_PASSWORD when set)
# Generate with Python/werkzeug and paste full hash string
ADMIN_PASSWORD_HASH=

# ==============================
# Storage / database
# ==============================
# Root directory for all runtime data
# media => ${STORAGE_ROOT}/media
# hls   => ${STORAGE_ROOT}/hls
# db    => ${DATABASE_PATH}
STORAGE_ROOT=storage
DATABASE_PATH=storage/database.db

# ==============================
# Runtime / networking
# ==============================
# Enable when running behind a reverse proxy (nginx/traefik/caddy)
TRUST_PROXY=false

# Cookies (recommended secure=true in production with HTTPS)
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_SAMESITE=Lax
SESSION_LIFETIME_DAYS=14

# Max upload size in MB
MAX_UPLOAD_MB=2048

# Retry incomplete/missing HLS generation jobs on app startup
STARTUP_HLS_RETRY_ENABLED=true

# Safety cap for how many videos to retry per startup
STARTUP_HLS_RETRY_LIMIT=50

# ==============================
# Gunicorn (used by Docker image)
# ==============================
GUNICORN_WORKERS=2
GUNICORN_THREADS=4
GUNICORN_TIMEOUT=120
